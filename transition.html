<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Merry Christmas...</title>
    <link rel="icon" type="image/jpeg" href="images/logo.jpeg" />
    <style>
      :root {
        --primary: rgb(20, 40, 20);
        --accent-red: rgb(196, 30, 58);
        --gold: rgb(216, 180, 131);
        --snow: rgba(255, 255, 255, 0.8);
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: var(--primary);

        background-image: radial-gradient(circle, white 1px, transparent 1px);
        background-size: 50px 50px;
        margin: 0;
        opacity: 1;
        transition: opacity 1s ease;
        overflow: hidden;
      }

      #tree path {
        stroke-dasharray: 500;
        stroke-dashoffset: 500;
        stroke: var(--accent-red);
        stroke-width: 2;
        fill: transparent;
        animation: drawTree 3s forwards ease-in-out,
          fillTree 1s forwards ease-in-out 3s;
      }

      @keyframes drawTree {
        to {
          stroke-dashoffset: 0;
        }
      }

      @keyframes fillTree {
        to {
          fill: var(--accent-red);
        }
      }

      .star {
        fill: var(--gold);
        opacity: 0;
        animation: fadeIn 1s forwards ease-in-out 3.5s;
      }

      @keyframes fadeIn {
        to {
          opacity: 1;
        }
      }

      #snow-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9999;
        overflow: hidden;
      }

      .snowflake {
        position: absolute;
        top: -10px;
        color: white;
        user-select: none;
        pointer-events: none;
        animation: fall linear forwards;
      }

      @keyframes fall {
        to {
          transform: translateY(110vh);
        }
      }
    </style>
  </head>
  <body>
    <div id="snow-container"></div>

    <svg
      id="tree"
      width="200"
      height="200"
      viewBox="0 0 100 100"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M50 20 L65 45 L55 45 L70 70 L30 70 L45 45 L35 45 Z" />
      <polygon
        class="star"
        points="50,10 52,16 58,16 53,20 55,26 50,22 45,26 47,20 42,16 48,16"
      />
      <rect fill="#5D4037" x="46" y="70" width="8" height="10" />
    </svg>

    <script>
      const totalAnimationTime = 5000;
      const fadeDuration = 1000;

      setTimeout(() => {
        document.body.style.opacity = 0;

        setTimeout(() => {
          window.location.href = "gate.html";
        }, fadeDuration);
      }, totalAnimationTime);

      function createSnowflake() {
        const container = document.getElementById("snow-container");
        if (!container) return;

        const flake = document.createElement("div");
        const size = Math.random() * 10 + 10 + "px";
        const duration = Math.random() * 3 + 2 + "s";

        flake.innerText = "â„";
        flake.classList.add("snowflake");
        flake.style.left = Math.random() * 100 + "vw";
        flake.style.fontSize = size;
        flake.style.opacity = Math.random();
        flake.style.animationDuration = duration;

        container.appendChild(flake);

        setTimeout(() => {
          flake.remove();
        }, 5000);
      }
      setInterval(createSnowflake, 100);
    </script>
  </body>
</html>
